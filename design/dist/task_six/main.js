(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(t,e,n){},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(1),(new(function(){function t(){var e=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.thumbnailList=Array.prototype.map.call(document.querySelectorAll(".thumbnail"),function(t){return t}),this.imageList=Array.prototype.map.call(document.querySelectorAll(".image"),function(t){return t}),!this.thumbnailList.length||!this.imageList.length)throw new Error("找不到图片或缩略图");this.active={thumbnail:this.thumbnailList[0],image:this.imageList[0]},this.loadImageList(this.imageList.map(function(t){return t.dataset.src})).then(function(t){console.log("res"),e.loading=!1,t.forEach(function(t,n){t&&(e.imageList[n].src=t,e.thumbnailList[n].src=t)})}),Object.defineProperty(this,"loading",{get:function(){var t=document.querySelector(".loading").style.display;return!(""!==t&&"block"!==t)},set:function(t){t?(document.querySelector(".loading").style.display="block",document.querySelector(".thumbnail-list").style.display="none"):(document.querySelector(".loading").style.display="none",document.querySelector(".thumbnail-list").style.display="block")}})}return i(t,[{key:"loadImageAsync",value:function(t){return new Promise(function(e,n){var i=new Image;i.src=t,i.complete&&e(t),i.onload=function(){e(t)},i.onerror=function(){n(new Error("Could not load image "))}})}},{key:"loadImageList",value:function(t){var e=this;return Promise.all(t.map(function(t){return e.loadImageAsync(t)}))}},{key:"thumbnailSelectHandler",value:function(t){var e=this;if(console.log("ok"),t!==this.active.thumbnail){var n=t,i=this.thumbnailList.findIndex(function(e){return e===t}),a=this.imageList[i];n.classList.add("active"),this.active.thumbnail.classList.remove("active"),this.imageList.forEach(function(t){t===a?(t.style.zIndex=10,t.classList.add("active")):t===e.active.image?(t.style.zIndex=9,t.classList.remove("active")):t.style.zIndex=1}),this.active.thumbnail=n,this.active.image=a}}},{key:"begin",value:function(){var t=this;document.querySelector(".thumbnail-list").addEventListener("click",function(e){t.thumbnailSelectHandler(e.target.parentNode.children[0])}),this.imageList.forEach(function(t,e){t.style.zIndex=-e})}}]),t}())).begin()}],[[2,0]]]);