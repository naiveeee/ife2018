(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,,,,function(t,e){t.exports='\n<div>\n    <section class="tab-wrapper" on-click="tabClickHandler">\n        <span s-for="item in infiniteScrollArray" class="{{item.isActive ? \'active\' : null}}">{{item.name}}</span>\n    </section>\n    <infinite-scroll s-for="item in infiniteScrollArray" id="{{item.name}}" class="news-container {{item.isActive ? \'active\' : null}}" dataArray="{{item.dataArray}}" elementSelector="{{item.target}}" isActive="{{item.isActive}}" updateData="{{item.getData}}">\n        <h1 slot="content-title">infinite scroll {{item.name}}</h1>\n        <div slot="content-item" class="item">\n            <h3 class="item-title">{{title}}</h3>\n            <img src="{{img}}"/>\n            <p class="origin">\n                <span class="medium">{{medium}}</span>\n                <span class="report-time">{{reportTime}}</span>\n            </p>\n        </div>\n        <div slot="loading">loading...</div>\n    </infinite-scroll>\n</div>\n'},function(t,e){t.exports='\n<section>\n    <slot name="content-title">\n\n    </slot>\n    <slot name="content-item" s-for="item in dataArray" var-title="item.title" var-img="item.imgUrl" var-medium="item.medium" var-reportTime="item.reportTime">\n        \n    </slot>\n    <slot name="loading" s-if="isLoading">\n        \n    </slot>\n</section>\n'},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.default={dataTypes:{dataArray:i.DataTypes.arrayOf(i.DataTypes.shape({title:i.DataTypes.string,imgUrl:i.DataTypes.string,medium:i.DataTypes.string,reportTime:i.DataTypes.string})),elementSelector:i.DataTypes.string.isRequired,updateData:i.DataTypes.func,isActive:i.DataTypes.bool},initData:function(){return{isLoading:!1}},scrollHandler:function(){var t=this;if(this.data.get("isActive")){console.log("ok");var e=document.querySelector(this.data.get("elementSelector"));e.scrollHeight-e.scrollTop<e.clientHeight+100&&(this.data.get("isLoading")||(console.log("loading"),this.data.set("isLoading",!0),this.data.get("updateData")().then(function(e){e instanceof Array?e.forEach(function(e){return t.data.push("dataArray",e)}):t.data.push("dataArray",e),t.data.set("isLoading",!1)})))}},attached:function(){var t=document.querySelector(this.data.get("elementSelector")),e=this.scrollHandler.bind(this);t&&("HTML"===t.nodeName?window.addEventListener("scroll",e):t.addEventListener("scroll",e))}}},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(10);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){var i,a,r={};n(11),(i=n(9))&&i.__esModule&&Object.keys(i).length>1&&console.warn("[san-loader] mvvm\\src\\task_4.4\\components\\InfiniteScroll.san: named exports in *.san files are ignored."),a=n(5);var o={};i&&(o=i.__esModule?i.default:i),a&&(o.template=a);var s=n(0).defineComponent(o);t.exports=s,t.exports.__esModule&&(t.exports=t.exports.default),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.count=0}return i(t,[{key:"mockAsyncRequest",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=Array.apply(null,{length:e}).map(function(e){return{title:""+ ++t.count,imgUrl:"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=188920380,1736310545&fm=173&app=25&f=JPEG?w=218&h=146&s=1BA046841C57FFC61E9E8A290300305B",reportTime:(new Date).toDateString(),medium:"新浪"}});return new Promise(function(t){return setTimeout(t.bind(null,n),200)})}},{key:"mockInitialData",value:function(){for(var t=[];this.count<=10;)t.push({title:""+ ++this.count,imgUrl:"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=188920380,1736310545&fm=173&app=25&f=JPEG?w=218&h=146&s=1BA046841C57FFC61E9E8A290300305B",reportTime:(new Date).toDateString(),medium:"新浪"});return t}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(13),r=(i=a)&&i.__esModule?i:{default:i};e.default={components:{"infinite-scroll":n(12)},initData:function(){var t=new r.default,e=new r.default,n=new r.default;return{infiniteScrollArray:[{name:"全局滚动1",isActive:!0,target:"html",dataArray:t.mockInitialData(),getData:t.mockAsyncRequest.bind(t)},{name:"全局滚动2",isActive:!1,target:"html",dataArray:e.mockInitialData(),getData:e.mockAsyncRequest.bind(e)},{name:"局部滚动",isActive:!1,target:"#局部滚动",dataArray:n.mockInitialData(),getData:n.mockAsyncRequest.bind(n)}]}},tabClickHandler:function(t){var e=this;if("SPAN"===t.target.nodeName){var n=t.target.textContent;this.data.get("infiniteScrollArray").forEach(function(t,i){t.name===n?e.data.set("infiniteScrollArray["+i+"].isActive",!0):e.data.set("infiniteScrollArray["+i+"].isActive",!1)})}}}},,function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".tab-wrapper {\n  text-align: center;\n  margin: 1em 0;\n  font-size: 1.5em;\n}\n.tab-wrapper span {\n  padding: .3em .5em;\n  cursor: pointer;\n  border: 0px;\n  border-radius: 1em;\n  transition: all .3s ease;\n  box-sizing: border-box;\n  display: inline-block;\n  line-height: 2.5em;\n  width: 7.5em;\n}\n.tab-wrapper span.active {\n  border: 2px solid blueviolet;\n}\n.news-container {\n  display: none;\n  margin: 0 auto;\n  width: 60vw;\n  border: 1px solid black;\n  border-radius: 2em;\n  padding: 2em 1em;\n}\n.news-container h1 {\n  text-align: center;\n  font-size: 2em;\n  margin-bottom: 1em;\n}\n.news-container.active {\n  display: block;\n}\n.item {\n  border-bottom: 1px solid #d5d5d5;\n  margin-bottom: 2em;\n}\n.item .origin {\n  font-size: .8em;\n  color: rgba(0, 0, 0, 0.4);\n}\n#局部滚动 {\n  height: 100vh;\n  overflow-y: scroll;\n}\n",""])},function(t,e,n){var i=n(16);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,a);i.locals&&(t.exports=i.locals)},function(t,e,n){var i,a,r={};n(17),(i=n(14))&&i.__esModule&&Object.keys(i).length>1&&console.warn("[san-loader] mvvm\\src\\task_4.4\\components\\App.san: named exports in *.san files are ignored."),a=n(4);var o={};i&&(o=i.__esModule?i.default:i),a&&(o.template=a);var s=n(0).defineComponent(o);t.exports=s,t.exports.__esModule&&(t.exports=t.exports.default),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,n){"use strict";var i,a=n(18);(new((i=a)&&i.__esModule?i:{default:i}).default).attach(document.querySelector("#app"))}],[[19,0,1]]]);